extends ../components/header.pug

block styles
  link(rel="stylesheet" type="text/css" href="/cart.css")

block content
  if products.length > 0
    .content
      .prod-list
        each p in products
          article
            .product-data
              img(src!=p.imageURL alt!=p.title)
              .text
                h3 #{p.title}
                p #{p.description}
            .controllers
              .left
                strong $ #{p.price}
                .qty-controllers
                  button -
                  span #{p.cartItem.qty}
                  form(method="POST" action="/cart")
                    button(type="submit") +
                    input(type="hidden" name="productId" value!=p.id)
                small Total: $ !{p.price * p.cartItem.qty}
              form(action="/cart/delete-product/" method="POST")
                button(type="submit")
                  i.fas.fa-trash-alt
                input(type="hidden" name="productId" value!=p.id)
      .finish-buy
        .finish-buy-content
          p Total: 
            strong $ 
          button 
            i.fas.fa-cart-plus 
            span Finish Order
  else
    h1 #{pageTitle}
    h2 Products added to the cart...